library(qrcode)
library(qrcode)
library(readr)
library(tidyverse)
library(here)
setwd(here::here())
# Picture credits
pic <- list()
pic$eins <- c(url = "https://unsplash.com/photos/13UugSL9q7A", credit = "Michael Schiffer")
pic$zwei <- c(url = "https://www.researchgate.net/profile/John-Oller/publication/335404504/figure/fig11/AS:796256146309121@1566853667699/4-A-micrograph-of-Escherichia-Coli-E-Coli-bacteria-Source-Courtesy-of-Janice-Haney.png",
credit = "Janice Haney Carr, National Escherichia, Shigella, Vibrio Reference Unit at CDC, USCDCP")
# Check
if(params$run_local){
basepath <- paste0("../assets/", params$permalink, "/")
} else {
basepath <- paste0("{{ site.url }}{{ site.baseurl }}/assets/", params$permalink, "/")
}
imagepath <- paste0("../assets/", params$permalink, "/")
# Generate links
onlinelink <- paste0("https://github.com/jakobschumacher/presentations/", params$permalink)
pdflink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".pdf?raw=true")
doclink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".docx?raw=true")
# Generate the QR-Codes
generate_svg(qr_code(onlinelink), filename = paste0("../assets/", params$permalink, "/QR-link.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(pdflink), filename = paste0("../assets/", params$permalink, "/QR-pdf.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(doclink), filename = paste0("../assets/", params$permalink, "/QR-doc.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
library(qrcode)
library(readr)
library(tidyverse)
library(here)
setwd(here::here())
# Picture credits
pic <- list()
pic$eins <- c(url = "https://unsplash.com/photos/13UugSL9q7A", credit = "Michael Schiffer")
pic$zwei <- c(url = "https://www.researchgate.net/profile/John-Oller/publication/335404504/figure/fig11/AS:796256146309121@1566853667699/4-A-micrograph-of-Escherichia-Coli-E-Coli-bacteria-Source-Courtesy-of-Janice-Haney.png",
credit = "Janice Haney Carr, National Escherichia, Shigella, Vibrio Reference Unit at CDC, USCDCP")
getcurrentpath <- here()
# Check
if(params$run_local){
basepath <- paste0("../assets/", params$permalink, "/")
} else {
basepath <- paste0("{{ site.url }}{{ site.baseurl }}/assets/", params$permalink, "/")
}
imagepath <- paste0("../assets/", params$permalink, "/")
# Generate links
onlinelink <- paste0("https://github.com/jakobschumacher/presentations/", params$permalink)
pdflink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".pdf?raw=true")
doclink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".docx?raw=true")
# Generate the QR-Codes
generate_svg(qr_code(onlinelink), filename = paste0("../assets/", params$permalink, "/QR-link.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(pdflink), filename = paste0("../assets/", params$permalink, "/QR-pdf.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(doclink), filename = paste0("../assets/", params$permalink, "/QR-doc.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
# This code needs to be run once, after the presentation is ready and the presentation lies in the same folder as this code
tempfilewithpath <- "tempfile.html"
file.create(tempfilewithpath)
filedata <- read_file("_posts/2022-04-08-WBKD-Gastroenteritis.html")
filedata <- read_file("/_posts/2022-04-08-WBKD-Gastroenteritis.html")
filedata <- read_file("_posts/2022-04-08-WBKD-Gastroenteritis.html")
filedata <- read_file("_posts/2022-04-08-WBKD-Gastroenteritis.html")
print(here('_posts'))
here('_posts', '/2022-04-08-WBKD-Gastroenteritis.html')
here('_posts', '2022-04-08-WBKD-Gastroenteritis.html')
filedata <- read_file(here('_posts', '2022-04-08-WBKD-Gastroenteritis.html'))
filedata <- read_file(here('_posts', '2022-01-31-IfSG-WBK.html'))
?knitr::knit
here('_posts', '2022-01-31-IfSG-WBK.html')
filedata <- read_file(here('_posts', '2022-04-08-WBKD-Gastroenteritis.html'))
# This code needs to be run once, after the presentation is ready and the presentation lies in the same folder as this code
tempfilewithpath <- "tempfile.html"
file.create(tempfilewithpath)
# write(paste0("--- "), file=tempfilewithpath)
write(paste0("---\ntitle: ", params$presentation_title), file=tempfilewithpath)
write(paste0("date: ", params$presentation_date), file=tempfilewithpath, append = TRUE)
write(paste0("course: ", params$course), file=tempfilewithpath, append = TRUE)
write(paste0("host: ", params$host), file=tempfilewithpath, append = TRUE)
write(paste0("permalink: ", params$permalink, "/"), file=tempfilewithpath, append = TRUE)
write(paste0("---"), file=tempfilewithpath, append = TRUE)
# This code needs to be run once, after the presentation is ready and the presentation lies in the same folder as this code
tempfilewithpath <- "tempfile.html"
file.create(tempfilewithpath)
filedata <- read_file(paste0("../_posts/", params$permalink, ".html"))
filedata <- read_file(here('_posts', '2022-04-08-WBKD-Gastroenteritis.html'))
params$permalink
filedata <- read_file(here("_posts/", paste0(params$permalink, ".html")))
# filedata <- read_file(here('_posts', '2022-04-08-WBKD-Gastroenteritis.html'))
write(paste0("---\ntitle: ", params$presentation_title), file=tempfilewithpath)
write(paste0("date: ", params$presentation_date), file=tempfilewithpath, append = TRUE)
write(paste0("course: ", params$course), file=tempfilewithpath, append = TRUE)
write(paste0("host: ", params$host), file=tempfilewithpath, append = TRUE)
write(paste0("permalink: ", params$permalink, "/"), file=tempfilewithpath, append = TRUE)
write(paste0("---"), file=tempfilewithpath, append = TRUE)
write(filedata, file=tempfilewithpath, append = TRUE)
filedata
file.copy(from = paste0(tempfilewithpath), to = here("_posts/", paste0(params$permalink, ".html")), overwrite = TRUE)
file.remove(tempfilewithpath)
# This code needs to be run once, after the presentation is ready and the presentation lies in the same folder as this code
tempfilewithpath <- "tempfile.html"
file.create(tempfilewithpath)
filedata <- read_file(here("_code/", paste0(params$permalink, ".html")))
filedata
write(paste0("---\ntitle: ", params$presentation_title), file=tempfilewithpath)
write(paste0("date: ", params$presentation_date), file=tempfilewithpath, append = TRUE)
write(paste0("course: ", params$course), file=tempfilewithpath, append = TRUE)
basepath
library(qrcode)
library(readr)
library(tidyverse)
library(here)
# Picture credits
pic <- list()
pic$eins <- c(url = "https://unsplash.com/photos/13UugSL9q7A", credit = "Michael Schiffer")
pic$zwei <- c(url = "https://www.researchgate.net/profile/John-Oller/publication/335404504/figure/fig11/AS:796256146309121@1566853667699/4-A-micrograph-of-Escherichia-Coli-E-Coli-bacteria-Source-Courtesy-of-Janice-Haney.png",
credit = "Janice Haney Carr, National Escherichia, Shigella, Vibrio Reference Unit at CDC, USCDCP")
# Check
if(params$run_local == "yes"){
basepath <- paste0("../assets/", params$permalink, "/")
} else {
basepath <- paste0("{{ site.url }}{{ site.baseurl }}/assets/", params$permalink, "/")
}
imagepath <- paste0("../assets/", params$permalink, "/")
# Generate links
onlinelink <- paste0("https://github.com/jakobschumacher/presentations/", params$permalink)
pdflink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".pdf?raw=true")
doclink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".docx?raw=true")
# Generate the QR-Codes
generate_svg(qr_code(onlinelink), filename = paste0("../assets/", params$permalink, "/QR-link.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(pdflink), filename = paste0("../assets/", params$permalink, "/QR-pdf.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(doclink), filename = paste0("../assets/", params$permalink, "/QR-doc.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
basepath
paste0(basepath, watchtower3.jpg)
paste0(basepath, "watchtower3.jpg")
move_presentation_to_posts()
move_presentation_to_posts <- function(presentationfile = here("_code/", paste0(params$permalink, ".html"))){
tempfilewithpath <- "tempfile.html"
file.create(tempfilewithpath)
filedata <- read_file(presentationfile)
write(paste0("---\ntitle: ", params$presentation_title), file=tempfilewithpath)
write(paste0("date: ", params$presentation_date), file=tempfilewithpath, append = TRUE)
write(paste0("course: ", params$course), file=tempfilewithpath, append = TRUE)
write(paste0("host: ", params$host), file=tempfilewithpath, append = TRUE)
write(paste0("permalink: ", params$permalink, "/"), file=tempfilewithpath, append = TRUE)
write(paste0("---"), file=tempfilewithpath, append = TRUE)
write(filedata, file=tempfilewithpath, append = TRUE)
file.copy(from = paste0(tempfilewithpath), to = here("_posts/", paste0(params$permalink, ".html")), overwrite = TRUE)
file.remove(tempfilewithpath)
file.remove(presentationfile)
}
move_presentation_to_posts()
print(basepath)
library(qrcode)
library(readr)
library(tidyverse)
library(here)
# Picture credits
pic <- list()
pic$eins <- c(url = "https://unsplash.com/photos/13UugSL9q7A", credit = "Michael Schiffer")
pic$zwei <- c(url = "https://www.researchgate.net/profile/John-Oller/publication/335404504/figure/fig11/AS:796256146309121@1566853667699/4-A-micrograph-of-Escherichia-Coli-E-Coli-bacteria-Source-Courtesy-of-Janice-Haney.png",
credit = "Janice Haney Carr, National Escherichia, Shigella, Vibrio Reference Unit at CDC, USCDCP")
# Check
if(params$run_local){
basepath <- paste0("../assets/", params$permalink, "/")
} else {
basepath <- paste0("{{ site.url }}{{ site.baseurl }}/assets/", params$permalink, "/")
}
imagepath <- paste0("../assets/", params$permalink, "/")
# Generate links
onlinelink <- paste0("https://github.com/jakobschumacher/presentations/", params$permalink)
pdflink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".pdf?raw=true")
doclink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".docx?raw=true")
# Generate the QR-Codes
generate_svg(qr_code(onlinelink), filename = paste0("../assets/", params$permalink, "/QR-link.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(pdflink), filename = paste0("../assets/", params$permalink, "/QR-pdf.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(doclink), filename = paste0("../assets/", params$permalink, "/QR-doc.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
print(basepath)
paste0(basepath, params$permalink, ".pdf?raw=true")
paste0(basepath, params$permalink, ".pdf")
docxfile = here("_code/", paste0(params$permalink, ".docx"))
docxfile
docxfile = here("_code", paste0(params$permalink, ".docx"))
here("_code", paste0(params$permalink, ".docx")
)
params$permalink
here("_assets", params$permalink, docxfile, "/.docx")
paste0(params$permalink, ".docx")
here("_assets", paste0(params$permalink, ".docx"))
here("_assets", params$permalink, paste0(params$permalink, ".docx"))
file.copy(from = docxfile, to = here("_assets", params$permalink, paste0(params$permalink, ".docx"))), overwrite = TRUE)
file.copy(from = docxfile, to = here("_assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
localpath <- paste0("../assets/", params$permalink, "/")
here("_code", paste0(params$permalink, ".docx")
here("_code", paste0(params$permalink, ".docx"))
here("_code", paste0(params$permalink, ".docx"))
docxfile
read.file(docxfile)
read_docx(docxfile)
read_file(docxfile)
file.copy(from = docxfile, to = here("_assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
file.copy(from = docxfile, to = here("_assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
file.create(here("_assets", params$permalink, paste0(params$permalink, ".docx")))
here("_assets", params$permalink, paste0(params$permalink, ".docx"))
file.create(here("_assets", params$permalink, paste0(params$permalink, ".md")))
file.copy(from = docxfile, to = here("_assets", paste0(params$permalink, ".docx")), overwrite = TRUE)
file.copy(from = docxfile, to = paste0(params$permalink, ".docx"), overwrite = TRUE)
paste0(params$permalink, ".docx")
file.copy(from = docxfile, to = paste0("../", params$permalink, ".docx"), overwrite = TRUE)
file.copy(from = docxfile, to = here("assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
move_pdf_docx_to_assets <- function(docxfile = here("_code", paste0(params$permalink, ".docx")), pdffile = here("_code", paste0(params$permalink, ".html"))){
file.copy(from = docxfile, to = here("assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
file.copy(from = pdffile, to = here("assets", params$permalink, paste0(params$permalink, "pdf")), overwrite = TRUE)
file.remove(docxfile)
file.remove(pdffile)
}
move_pdf_docx_to_assets()
move_pdf_docx_to_assets <- function(docxfile = here("_code", paste0(params$permalink, ".docx")), pdffile = here("_code", paste0(params$permalink, ".pdf"))){
file.copy(from = docxfile, to = here("assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
file.copy(from = pdffile, to = here("assets", params$permalink, paste0(params$permalink, ".pdf")), overwrite = TRUE)
file.remove(docxfile)
file.remove(pdffile)
}
move_pdf_docx_to_assets()
file.exists(docxfile)
move_pdf_docx_to_assets <- function(docxfile = here("_code", paste0(params$permalink, ".docx")), pdffile = here("_code", paste0(params$permalink, ".pdf"))){
file.exists(docxfile)
file.copy(from = docxfile, to = here("assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
file.copy(from = pdffile, to = here("assets", params$permalink, paste0(params$permalink, ".pdf")), overwrite = TRUE)
file.remove(docxfile)
file.remove(pdffile)
}
file.exists(docxfile)
print(paste("docx file moved to", here("assets", params$permalink, paste0(params$permalink, ".docx")))
file.copy(from = pdffile, to = here("assets", params$permalink, paste0(params$permalink, ".pdf")), overwrite = TRUE)
file.remove(pdffile)
}
move_pdf_docx_to_assets()
print(paste("docx file moved to", here("assets", params$permalink, paste0(params$permalink, ".docx")))
print(paste("docx file moved to", here("assets", params$permalink, paste0(params$permalink, ".docx"))
print(paste("docx file moved to", here("assets", params$permalink, paste0(params$permalink, ".docx"))))
move_pdf_docx_to_assets <- function(docxfile = here("_code", paste0(params$permalink, ".docx")), pdffile = here("_code", paste0(params$permalink, ".pdf"))){
if(file.exists(docxfile)){
file.copy(from = docxfile, to = here("assets", params$permalink, paste0(params$permalink, ".docx")), overwrite = TRUE)
file.remove(docxfile)
print(paste("docx file moved to", here("assets", params$permalink, paste0(params$permalink, ".docx"))))
}
if(file.exists(pdffile)){
file.copy(from = pdffile, to = here("assets", params$permalink, paste0(params$permalink, ".pdf")), overwrite = TRUE)
file.remove(pdffile)
print(paste("pdf file moved to", here("assets", params$permalink, paste0(params$permalink, ".docx"))))
}
}
move_pdf_docx_to_assets()
move_presentation_to_posts()
source("presentation_function.R")
library(qrcode)
library(readr)
library(tidyverse)
library(here)
# Picture credits
pic <- list()
pic$eins <- c(url = "https://unsplash.com/photos/13UugSL9q7A", credit = "Michael Schiffer")
pic$zwei <- c(url = "https://www.researchgate.net/profile/John-Oller/publication/335404504/figure/fig11/AS:796256146309121@1566853667699/4-A-micrograph-of-Escherichia-Coli-E-Coli-bacteria-Source-Courtesy-of-Janice-Haney.png",
credit = "Janice Haney Carr, National Escherichia, Shigella, Vibrio Reference Unit at CDC, USCDCP")
# Check
if(params$run_local){
basepath <- paste0("../assets/", params$permalink, "/")
} else {
basepath <- paste0("{{ site.url }}{{ site.baseurl }}/assets/", params$permalink, "/")
}
localpath <- paste0("../assets/", params$permalink, "/")
imagepath <- paste0("../assets/", params$permalink, "/")
# Generate links
onlinelink <- paste0("https://github.com/jakobschumacher/presentations/", params$permalink)
pdflink <- paste0(basepath, params$permalink, ".pdf")
doclink <- paste0("https://raw.githubusercontent.com/jakobschumacher/presentations/master/assets/", params$permalink, ".docx?raw=true")
# Generate the QR-Codes
generate_svg(qr_code(onlinelink), filename = paste0("../assets/", params$permalink, "/QR-link.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(pdflink), filename = paste0("../assets/", params$permalink, "/QR-pdf.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(doclink), filename = paste0("../assets/", params$permalink, "/QR-doc.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
source("_code/presentation_function.R")
getwd
getwd()
source("_code/presentation_funtions.R")
paste0(basepath, params$permalink, ".pdf")
library(qrcode)
library(readr)
library(tidyverse)
library(here)
# Picture credits
pic <- list()
pic$eins <- c(url = "https://unsplash.com/photos/13UugSL9q7A", credit = "Michael Schiffer")
pic$zwei <- c(url = "https://www.researchgate.net/profile/John-Oller/publication/335404504/figure/fig11/AS:796256146309121@1566853667699/4-A-micrograph-of-Escherichia-Coli-E-Coli-bacteria-Source-Courtesy-of-Janice-Haney.png",
credit = "Janice Haney Carr, National Escherichia, Shigella, Vibrio Reference Unit at CDC, USCDCP")
# Check
if(params$run_local){
basepath <- paste0("../assets/", params$permalink, "/")
} else {
basepath <- paste0("{{ site.url }}{{ site.baseurl }}/assets/", params$permalink, "/")
}
library(qrcode)
library(readr)
library(tidyverse)
library(here)
# Picture credits
pic <- list()
pic$eins <- c(url = "https://unsplash.com/photos/13UugSL9q7A", credit = "Michael Schiffer")
pic$zwei <- c(url = "https://www.researchgate.net/profile/John-Oller/publication/335404504/figure/fig11/AS:796256146309121@1566853667699/4-A-micrograph-of-Escherichia-Coli-E-Coli-bacteria-Source-Courtesy-of-Janice-Haney.png",
credit = "Janice Haney Carr, National Escherichia, Shigella, Vibrio Reference Unit at CDC, USCDCP")
# Check
if(params$run_local){
basepath <- paste0("../assets/", params$permalink, "/")
} else {
basepath <- paste0("{{ site.url }}{{ site.baseurl }}/assets/", params$permalink, "/")
}
imagepath <- paste0("../assets/", params$permalink, "/")
# Generate links
onlinelink <- paste0("https://github.com/jakobschumacher/presentations/", params$permalink)
pdflink <- paste0(basepath, params$permalink, ".pdf")
doclink <- paste0(basepath, params$permalink, ".docx")
# Generate the QR-Codes
generate_svg(qr_code(onlinelink), filename = paste0("../assets/", params$permalink, "/QR-link.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(pdflink), filename = paste0("../assets/", params$permalink, "/QR-pdf.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
generate_svg(qr_code(doclink), filename = paste0("../assets/", params$permalink, "/QR-doc.svg"), size = 150, foreground = "black", background = "transparent", show = FALSE)
# source("_code/presentation_funtions.R")
# move_presentation_to_posts()
# move_pdf_docx_to_assets()
pdflink <- paste0(basepath, params$permalink, ".pdf")
doclink <- paste0(basepath, params$permalink, ".docx")
